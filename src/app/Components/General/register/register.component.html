<div class="component__container">
  <div class="register__container">

    <div class="register__header">
      <h3>Rejestracja</h3>
    </div>

    <div>
      <form class="register__form" [formGroup]="registerForm" (ngSubmit)='register()'>

        <input type="text" formControlName="username" placeholder="Nazwa użytkownika">
        <div *ngIf="getField('username')?.errors && getField('username')?.touched">
          <div *ngIf="getField('username')?.errors?.['required']" class="danger_alert">
            Nazwa użytkownika jest wymagana
          </div>
          <div *ngIf="getField('username')?.errors?.['maxlength']" class="danger_alert">
            Nazwa użytkownika jest za dłluga [5-10 znaków]
          </div>
          <div *ngIf="getField('username')?.errors?.['minlength']" class="danger_alert">
            Nazwa użytkownika jest za krótka [5-10 znaków]
          </div>
        </div>

        <input type="mail" formControlName="mail" placeholder="Adres e-mail">
        <div *ngIf="getField('mail')?.errors && getField('mail')?.touched">
          <div *ngIf="getField('mail')?.errors?.['required']" class="danger_alert">
            Adres e-mail jest wymagany
          </div>
          <div *ngIf="getField('mail')?.errors?.['pattern']" class="danger_alert">
            Nieprawidłowy adres e-mail
          </div>
        </div>


        <input type="tel" formControlName="phone" placeholder="Numer telefonu" maxlength="9">
        <div *ngIf="getField('phone')?.errors && getField('phone')?.touched">
          <div *ngIf="getField('phone')?.errors?.['required']" class="danger_alert">
            Numer telefonu jest wymagany
          </div>
          <div *ngIf="getField('phone')?.errors?.['pattern']" class="danger_alert">
            Nieprawidłowy numer telefonu
          </div>
        </div>

        <input type="password" formControlName="password" placeholder="Hasło">
        <div *ngIf="getField('password')?.errors?.['required'] && getField('password')?.touched" class="danger_alert">
          Hasło jest wymagane
        </div>
        <div *ngIf="registerForm.errors?.['hasNumberError']  && getField('password')?.touched" class="danger_alert">
          Hasło musi zawierać cyfrę
        </div>
        <div *ngIf="registerForm.errors?.['hasLowerCaseLetterError']  && getField('password')?.touched" class="danger_alert">
          Hasło musi zawierać małą literę
        </div>
        <div *ngIf="registerForm.errors?.['hasUpperCaseLetterError']  && getField('password')?.touched" class="danger_alert">
          Hasło musi zawierać dużą literę
        </div>
        <div *ngIf="registerForm.errors?.['hasSpecialCharacterError']  && getField('password')?.touched" class="danger_alert">
          Hasło musi zawierać znak specjalny
        </div>
        <div *ngIf="getField('password')?.errors?.['minlength'] && getField('password')?.touched" class="danger_alert">
          Hasło jest za krótkie [5-10 znaków]
        </div>
        <div *ngIf="getField('password')?.errors?.['maxlength'] && getField('password')?.touched" class="danger_alert">
          Hasło jest za długie [5-10 znaków]
        </div>

        <input type="password" formControlName="confirmPassword" placeholder="Potwierdź hasło">
        <div *ngIf="registerForm.errors?.['passwordMismatchError'] && getField('confirmPassword')?.touched">
          <div class="danger_alert">Wrpowadzono różne hasła</div>
        </div>

        <div class="register__button-group">
          <input type="submit" value="Zarejestruj się" class="register__register-button" [disabled]="!registerForm.valid">
        </div>

      </form>

      <div class="danger_alert" *ngIf="displayMailInvalid">
        Podany adres e-mail jest zajęty.
      </div>

      <div class="danger_alert" *ngIf="displayUsernameInvalid">
        Podana nazwa użytkownika jest zajęta.
      </div>

      <div class="confirm_alert" *ngIf="displayRegistered">
        Zarejestrowano pomyślnie!
      </div>

    </div>
  </div>
</div>
